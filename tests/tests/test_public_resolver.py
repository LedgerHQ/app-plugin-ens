
from web3 import Web3
from tests.utils import run_test, load_contract


contract_public_resolver = load_contract(
    "231b0ee14048e9dccd1d247744d114a4eb5e8e63"
)

# From : https://etherscan.io/tx/0x75404d3e9f83d6e4a60f7df4e6f00ac41050c7765adf0d65be8179b20a8bb7e1
def test_multicall(backend, firmware, navigator, test_name, wallet_addr):
    data = "0xac9650d800000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000084623195b04827120fb4b697fb1815645b0aa4463794554a6d11e14ccb0cc686d94ee91bb700000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012410f13a8c4827120fb4b697fb1815645b0aa4463794554a6d11e14ccb0cc686d94ee91bb7000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000002468747470733a2f2f6c616e642e7068696c616e642e78797a2f6d7661737673652e65746800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002468747470733a2f2f6c616e642e7068696c616e642e78797a2f6d7661737673652e6574680000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
    run_test(
        contract_public_resolver, 
        data, 
        backend, 
        firmware, 
        navigator, 
        test_name, 
        wallet_addr
    )

# From : https://etherscan.io/tx/0xb6bc792ffc109a486b0f3ecc918d83f2cec3f1d12a57c5a1e680b59dc84b9217
def test_set_addr(backend, firmware, navigator, test_name, wallet_addr):
    data = "0x8b95dd71258b3bf5eab9cfd4fc2df1e34716fd22c441698464e6f8716786d1f47e54242b000000000000000000000000000000000000000000000000000000000000003c0000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000001409bce690af4a5d45cb035489c436313edaf02af9000000000000000000000000"
    run_test(
        contract_public_resolver, 
        data, 
        backend, 
        firmware, 
        navigator, 
        test_name, 
        wallet_addr
    )

#  From : https://etherscan.io/tx/0x9fc4d634107182767420f129c79737ddd232b5efd64f017c2b58f9495baa1290
def test_set_content_hash(backend, firmware, navigator, test_name, wallet_addr):
    data = "0x304e6adea85b9975f0587b985e4b5b1f44cff69b583caaa6a3c8bb45a3ff890fcfc13b5e0000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000002ae50101720024080112201840f1be75cdddc5e348868b570accf86a742e5f4cc3fa435e54dcef4fce3b9d00000000000000000000000000000000000000000000"
    run_test(
        contract_public_resolver, 
        data, 
        backend, 
        firmware, 
        navigator, 
        test_name, 
        wallet_addr
    )

# From : https://etherscan.io/tx/0x7ac068b74aa0bf96ba03060b84f8d0decd9fe4e8069e3fe489ec7c7022a3997f
def test_set_text(backend, firmware, navigator, test_name, wallet_addr):
    data = "0x10f13a8c4520c6739ae1af5764d371af2ffb0596f362158b65573c77c2d4ac9e40ce9b46000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000066176617461720000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001f68747470733a2f2f692e696d6775722e636f6d2f63624b763431322e6a706700"
    run_test(
        contract_public_resolver, 
        data, 
        backend, 
        firmware, 
        navigator, 
        test_name, 
        wallet_addr
    )
